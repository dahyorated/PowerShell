{"tasks":[{"environment":{},"displayName":"Task group: Build Versioning","alwaysRun":true,"continueOnError":true,"condition":"succeededOrFailed()","enabled":true,"timeoutInMinutes":0,"inputs":{},"task":{"id":"19e979ba-6e06-49bb-9c3c-03ebdcb6812d","versionSpec":"3.*","definitionType":"metaTask"}},{"environment":{},"displayName":"Install .NET Core sdk $(sdkVersion)","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"packageType":"sdk","version":"$(sdkVersion)"},"task":{"id":"b0ce7256-7898-45d3-9cb5-176b752bfea6","versionSpec":"0.*","definitionType":"task"}},{"environment":{},"displayName":"Use .Net Core sdk $(sdkVersion)","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"packageType":"sdk","useGlobalJson":"false","workingDirectory":"","version":"$(sdkVersion)","includePreviewVersions":"false","installationPath":"$(Agent.ToolsDirectory)/dotnet","performMultiLevelLookup":"false"},"task":{"id":"b0ce7256-7898-45d3-9cb5-176b752bfea6","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Use NuGet $(nugetVersion)","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"versionSpec":"$(nugetVersion)","checkLatest":"false"},"task":{"id":"2c65196a-54fd-4a02-9be8-d9d1837b7c5d","versionSpec":"0.*","definitionType":"task"}},{"environment":{},"displayName":"NuGet restore","alwaysRun":false,"continueOnError":true,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"command":"restore","solution":"$(solutionPath)","selectOrConfig":"config","feedRestore":"bbc90b85-3c74-4ce3-ad1a-49f56ba42734","includeNuGetOrg":"true","nugetConfigPath":"src/EY/GTP/nuget.config","externalEndpoints":"","noCache":"false","disableParallelProcessing":"true","packagesDirectory":"","verbosityRestore":"Detailed","searchPatternPush":"$(Build.ArtifactStagingDirectory)/**/*.nupkg;!$(Build.ArtifactStagingDirectory)/**/*.symbols.nupkg","nuGetFeedType":"internal","feedPublish":"","publishPackageMetadata":"true","allowPackageConflicts":"false","externalEndpoint":"","verbosityPush":"Detailed","searchPatternPack":"**/*.csproj","configurationToPack":"$(BuildConfiguration)","outputDir":"$(Build.ArtifactStagingDirectory)","versioningScheme":"off","includeReferencedProjects":"false","versionEnvVar":"","requestedMajorVersion":"1","requestedMinorVersion":"0","requestedPatchVersion":"0","packTimezone":"utc","includeSymbols":"false","toolPackage":"false","buildProperties":"","basePath":"","verbosityPack":"Detailed","arguments":""},"task":{"id":"333b11bd-d341-40d9-afcf-b32d5ce6f23b","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Build solution","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"solution":"$(solutionPath)","vsVersion":"latest","msbuildArgs":"/p:DeployOnBuild=true /p:WebPublishMethod=Package /p:PackageAsSingleFile=true /p:SkipInvalidConfigurations=true /p:DesktopBuildPackageLocation=\"$(build.artifactstagingdirectory)\\WebApp.zip\" /p:DeployIisAppPath=\"Default Web Site\"","platform":"$(BuildPlatform)","configuration":"$(BuildConfiguration)","clean":"false","maximumCpuCount":"false","restoreNugetPackages":"false","msbuildArchitecture":"x86","logProjectEvents":"true","createLogFile":"false","logFileVerbosity":"normal"},"task":{"id":"71a9a2d3-a98a-4caa-96ab-affca411ecda","versionSpec":"1.*","definitionType":"task"}},{"environment":{},"displayName":"count lines of code","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"workingFolder":"","clocCliDownloadUrl":"https://github.com/AlDanial/cloc/releases/download/1.80/cloc-1.80.exe","arguments":"$(solutionFolder) --exclude-dir=node_modules,obj,bin,.vs"},"task":{"id":"7b598338-cf0d-4c3f-acc2-4967b6202533","versionSpec":"1.*","definitionType":"task"}},{"environment":{},"displayName":"Test Assemblies","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"testSelector":"testAssemblies","testAssemblyVer2":"**\\EY.GTP.*test*.dll\n!**\\*TestAdapter*.dll\n!**\\obj\\**\n!**\\blacklistedFIles\\test.dll\n!**\\testhost.dll\n!**\\*TestPlatform*.dll","testPlan":"","testSuite":"","testConfiguration":"","tcmTestRun":"$(test.RunId)","searchFolder":"$(System.DefaultWorkingDirectory)","resultsFolder":"$(Agent.TempDirectory)\\TestResults","testFiltercriteria":"","runOnlyImpactedTests":"False","runAllTestsAfterXBuilds":"50","uiTests":"false","vstestLocationMethod":"version","vsTestVersion":"latest","vstestLocation":"","runSettingsFile":"src/EY/GTP/runsettings.runsettings","overrideTestrunParameters":"","pathtoCustomTestAdapters":"","runInParallel":"False","runTestsInIsolation":"False","codeCoverageEnabled":"true","otherConsoleOptions":"","distributionBatchType":"basedOnTestCases","batchingBasedOnAgentsOption":"autoBatchSize","customBatchSizeValue":"10","batchingBasedOnExecutionTimeOption":"autoBatchSize","customRunTimePerBatchValue":"60","dontDistribute":"False","testRunTitle":"","platform":"$(BuildPlatform)","configuration":"$(BuildConfiguration)","publishRunAttachments":"true","failOnMinTestsNotRun":"False","minimumExpectedTests":"1","diagnosticsEnabled":"True","collectDumpOn":"onAbortOnly","rerunFailedTests":"False","rerunType":"basedOnTestFailurePercentage","rerunFailedThreshold":"30","rerunFailedTestCasesMaxLimit":"5","rerunMaxAttempts":"3"},"task":{"id":"ef087383-ee5e-42c7-9a53-ab56c98420f9","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"WhiteSource ","alwaysRun":false,"continueOnError":false,"condition":"and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/develop'))","enabled":true,"timeoutInMinutes":0,"inputs":{"cwd":"$(Build.SourcesDirectory)","extensions":"$(extensionList)","exclude":"","checkPolicies":"SEND_ALERTS","productRule":"productName","productName":"Global Tax Platform","productToken":"","productVersion":"","requesterEmail":"","projectRule":"projectName","projectName":"$(whiteSourceProjectName)","projectVersion":"$(Build.BuildNumber)","projectToken":"","forceCheckAllDependencies":"false","forceUpdate":"false","failOnError":"true","WhiteSourceService":"75ca0b12-e1f6-498e-96a2-6b2bc87311e7","proxyUrl":"","proxyUsername":"","proxyPassword":"","connectionTimeoutField":"","connectionRetries":"1","connectionRetriesInterval":"3"},"task":{"id":"521d1e00-f5fb-4b73-a93b-a1fe88a9af90","versionSpec":"1.*","definitionType":"task"}},{"environment":{},"displayName":"Publish Artifact","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"PathtoPublish":"$(build.artifactstagingdirectory)","ArtifactName":"drop","ArtifactType":"Container","TargetPath":"\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)","Parallel":"false","ParallelCount":"8","FileCopyOptions":""},"task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"}},{"environment":{},"displayName":"Check build quality","alwaysRun":false,"continueOnError":false,"condition":"and(succeeded(), ne(variables['devOpsOverride'], true))","enabled":true,"timeoutInMinutes":0,"inputs":{"checkWarnings":"false","warningFailOption":"build","warningThreshold":"0","forceFewerWarnings":"false","allowWarningVariance":"false","warningVariance":"","warningFilters":"","inclusiveFiltering":"false","showStatistics":"false","warningTaskFilters":"/^(((android|xcode|gradlew)\\s+)?build|ant|maven|cmake|gulp)/i","checkCoverage":"true","coverageFailOption":"build","coverageType":"blocks","customCoverageType":"","coverageThreshold":"60","forceCoverageImprovement":"false","coverageUpperThreshold":"80","ignoreDecreaseAboveUpperThreshold":"true","useUncoveredElements":"false","allowCoverageVariance":"true","coverageVariance":"$(variance)","coverageDeltaType":"percentage","coveragePrecision":"4","buildConfiguration":"","buildPlatform":"","explicitFilter":"false","includePartiallySucceeded":"true","baseDefinitionFilter":"*","baseDefinitionId":"","baseRepoId":"","baseBranchRef":"","runTitle":"","disableCertCheck":"false","createBuildIssues":"true"},"task":{"id":"16a2ad20-f191-11e5-bed4-ab22bcd17937","versionSpec":"6.*","definitionType":"task"}}],"runsOn":["Agent","DeploymentGroup"],"revision":41,"createdBy":{"displayName":"Caleb Adepoju Adepoju","id":"bfa7d2cb-f9b7-6d3e-b3f1-87e4d4aea3e6","uniqueName":"Caleb.Adepoju.Adepoju@ey.com"},"createdOn":"2020-04-22T21:48:56.513Z","modifiedBy":{"displayName":"Brad Friedlander","id":"23725266-5bf7-603d-b232-59edf9d07071","uniqueName":"Brad.Friedlander@ey.com"},"modifiedOn":"2020-05-11T17:51:39.897Z","comment":"Removed tasks that created script artifacts.","id":"813b93af-a52f-456f-b49d-1a7554b8b159","name":"Build Function App","version":{"major":3,"minor":0,"patch":0,"isTest":false},"iconUrl":"https://cdn.vsassets.io/v/20180907T133328/_content/icon-meta-task.png","friendlyName":"Build Function App","description":"","category":"Build","definitionType":"metaTask","author":"Prasana Ramkumar","demands":[],"groups":[],"inputs":[{"aliases":[],"options":{},"properties":{},"name":"BuildConfiguration","label":"BuildConfiguration","defaultValue":"release","required":true,"type":"string","helpMarkDown":"Specify the configuration you want to build such as debug or release.","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"BuildPlatform","label":"BuildPlatform","defaultValue":"any cpu","required":true,"type":"string","helpMarkDown":"Specify the platform you want to build such as Win32, x86, x64 or any cpu.","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"extensionList","label":"extensionList","defaultValue":".dll .nupkg","required":true,"type":"string","helpMarkDown":"List of extensions separated by space","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"nugetVersion","label":"nugetVersion","defaultValue":"5.4.0","required":true,"type":"string","helpMarkDown":"A version or version range that specifies the NuGet version to make available on the path. Use x as a wildcard. See the [list of available NuGet versions](http://dist.nuget.org/tools.json).\n\nIf you want to match a pre-release version, the specification must contain a major, minor, patch, and pre-release version from the list above.\n\nExamples: 4.x, 3.3.x, 2.8.6, >=4.0.0-0","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"sdkVersion","label":"sdkVersion","defaultValue":"2.2.102","required":true,"type":"string","helpMarkDown":"Specify exact version of .NET Core SDK or runtime to install.<br/>Find the value of `version-sdk` for installing SDK, or `version-runtime` for installing Runtime from any releases [here](https://github.com/microsoft/azure-pipelines-tasks/blob/master/Tasks/DotNetCoreInstallerV0/externals/releases.json).\n **NOTE: the task will not work with new versions of .NET Core. Kindly upgrade to 2.\\* version of the task to download latest versions od .NET Core.**","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"solutionFolder","label":"solutionFolder","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"solutionPath","label":"solutionPath","defaultValue":"","required":true,"type":"filePath","helpMarkDown":"The path to the solution, packages.config, or project.json file that references the packages to be restored.","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"variance","label":"variance","defaultValue":"1","required":true,"type":"string","helpMarkDown":"Specify the maximum temporary decrease of code coverage that will not fail the build. You should set this value as low as possible. [[Docs]](https://github.com/MicrosoftPremier/VstsExtensions/blob/master/BuildQualityChecks/en-US/CodeCoveragePolicy.md#coverageVariance)","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"whiteSourceProjectName","label":"whiteSourceProjectName","defaultValue":"$(Build.DefinitionName)","required":true,"type":"string","helpMarkDown":"A name that uniquely identifies the project to create or update. If you are creating a new project, then enter a unique name for the new project. If you are updating an existing project, then provide its name, which can be found on the WhiteSource GUI (on the GUI, select 'Projects' from the main navigation menu, and then select 'View All' to view all your existing projects).","groupName":""}],"satisfies":[],"sourceDefinitions":[],"dataSourceBindings":[],"instanceNameFormat":"Task group: Build Function App $(BuildConfiguration)","preJobExecution":{},"execution":{},"postJobExecution":{}}