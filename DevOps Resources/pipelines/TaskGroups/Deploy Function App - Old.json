{"tasks":[{"displayName":"Azure App Service Deploy: acemwpdgt2fap02","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"ConnectedServiceName":"59ef540b-046a-40a7-bcef-fccac8f24885","WebAppKind":"functionapp","WebAppName":"acemwpdgt2fap02","DeployToSlotFlag":"false","ResourceGroupName":"","SlotName":"","ImageSource":"Registry","AzureContainerRegistry":"","AzureContainerRegistryLoginServer":"","AzureContainerRegistryImage":"","AzureContainerRegistryTag":"","DockerRepositoryAccess":"public","RegistryConnectedServiceName":"","PrivateRegistryImage":"","PrivateRegistryTag":"","DockerNamespace":"","DockerRepository":"","DockerImageTag":"","VirtualApplication":"","Package":"$(System.DefaultWorkingDirectory)/_Azure Functions - EYOS Event Bridge - CI/drop/WebApp.zip","BuiltinLinuxPackage":"$(System.DefaultWorkingDirectory)/**/*.zip","RuntimeStack":"","StartupCommand":"","WebAppUri":"","ScriptType":"","InlineScript":":: You can provide your deployment commands here. One command per line.","ScriptPath":"","GenerateWebConfig":"false","WebConfigParameters":"","AppSettings":"","ConfigurationSettings":"","TakeAppOfflineFlag":"false","UseWebDeploy":"false","SetParametersFile":"","RemoveAdditionalFilesFlag":"false","ExcludeFilesFromAppDataFlag":"false","AdditionalArguments":"","RenameFilesFlag":"false","XmlTransformation":"false","XmlVariableSubstitution":"false","JSONFiles":""},"task":{"id":"497d490f-eea7-4f2b-ab94-48d9c1acdcb1","versionSpec":"3.*","definitionType":"task"}},{"displayName":"Azure PowerShell script: Create/Update Subscription with token for eyosDocumentUploadRequest Event Type","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"ConnectedServiceNameSelector":"ConnectedServiceNameARM","ConnectedServiceName":"","ConnectedServiceNameARM":"59ef540b-046a-40a7-bcef-fccac8f24885","ScriptType":"FilePath","ScriptPath":"$(System.DefaultWorkingDirectory)/_Azure Functions - EYOS Event Bridge - CI/scripts/GetFunctionToken.ps1","Inline":"# You can write your azure powershell scripts inline here. \n# You can also pass predefined and custom variables to this script using arguments\n\nwrite-host \"hello\"","ScriptArguments":"-tenantId \"$(tenantId)\" -subscriptionId \"$(subscriptionid)\" -clientId \"$(clientId)\" -clientSecret \"$(clientSecret)\" -resourceGroupName \"$(resourcegroup)\" -appName \"$(appName)\" -functionName \"$(eyosDocumentUploadRequest.functionName)\" -topicName \"$(topicName)\" -subscriptionName \"$(eyosDocumentUploadRequest.SubscriptionName)\" -eventType \"eyosDocumentUploadRequest\"","TargetAzurePs":"LatestVersion","CustomTargetAzurePs":"6.0.1"},"task":{"id":"72a1931b-effb-4d2e-8fd8-f8472a07cb62","versionSpec":"2.*","definitionType":"task"}},{"displayName":"Azure PowerShell script: Create/Update Subscription with token for eyosDocumentUploadResponse Event Type","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"ConnectedServiceNameSelector":"ConnectedServiceNameARM","ConnectedServiceName":"","ConnectedServiceNameARM":"59ef540b-046a-40a7-bcef-fccac8f24885","ScriptType":"FilePath","ScriptPath":"$(System.DefaultWorkingDirectory)/_Azure Functions - EYOS Event Bridge - CI/scripts/GetFunctionToken.ps1","Inline":"# You can write your azure powershell scripts inline here. \n# You can also pass predefined and custom variables to this script using arguments\n\nwrite-host \"hello\"","ScriptArguments":"-tenantId \"$(tenantId)\" -subscriptionId \"$(subscriptionid)\" -clientId \"$(clientId)\" -clientSecret \"$(clientSecret)\" -resourceGroupName \"$(resourcegroup)\" -appName \"$(appName)\" -functionName \"$(eyosDocumentUploadResponse.functionName)\" -topicName \"$(topicName)\" -subscriptionName \"$(eyosDocumentUploadResponse.SubscriptionName)\" -eventType \"eyosDocumentUploadResponse\"","TargetAzurePs":"LatestVersion","CustomTargetAzurePs":"6.0.1"},"task":{"id":"72a1931b-effb-4d2e-8fd8-f8472a07cb62","versionSpec":"2.*","definitionType":"task"}}],"runsOn":["Agent","DeploymentGroup"],"revision":1,"createdBy":{"displayName":"Ryan Rice","id":"4205d485-c721-66fb-a4d3-3b950dc6e14f","uniqueName":"Ryan.Rice@ey.com"},"createdOn":"2018-09-11T21:06:59.177Z","modifiedBy":{"displayName":"Ryan Rice","id":"4205d485-c721-66fb-a4d3-3b950dc6e14f","uniqueName":"Ryan.Rice@ey.com"},"modifiedOn":"2018-09-11T21:06:59.177Z","id":"b91dae9c-f2dd-4db5-ae54-0b4260b8d36b","name":"Deploy Function App","version":{"major":1,"minor":0,"patch":0,"isTest":false},"iconUrl":"https://cdn.vsassets.io/v/20180907T133328/_content/icon-meta-task.png","friendlyName":"Deploy Function App","description":"","category":"Deploy","definitionType":"metaTask","author":"Ryan Rice","demands":[],"groups":[],"inputs":[{"aliases":[],"options":{},"properties":{},"name":"appName","label":"appName","defaultValue":"acemwpdgt2fap02","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"clientId","label":"clientId","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"clientSecret","label":"clientSecret","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"eyosDocumentUploadRequest.functionName","label":"eyosDocumentUploadRequest.functionName","defaultValue":"EyosUploadRequestFunction","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"eyosDocumentUploadRequest.SubscriptionName","label":"eyosDocumentUploadRequest.SubscriptionName","defaultValue":"dev-eyosDocumentUploadRequest","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"eyosDocumentUploadResponse.functionName","label":"eyosDocumentUploadResponse.functionName","defaultValue":"EyosUploadResponseFunction","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"eyosDocumentUploadResponse.SubscriptionName","label":"eyosDocumentUploadResponse.SubscriptionName","defaultValue":"dev-eyosDocumentUploadResponse","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"resourcegroup","label":"resourcegroup","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"subscriptionid","label":"subscriptionid","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"tenantId","label":"tenantId","defaultValue":"","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"topicName","label":"topicName","defaultValue":"acemwpdgt2evt03","required":true,"type":"string","helpMarkDown":"","groupName":""}],"satisfies":[],"sourceDefinitions":[],"dataSourceBindings":[],"instanceNameFormat":"Task group: Deploy Function App $(appName)","preJobExecution":{},"execution":{},"postJobExecution":{}}